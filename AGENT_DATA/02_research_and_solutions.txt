================================================================================
ALBUM DOWNLOAD SITE — RESEARCH & SOLUTION OPTIONS
================================================================================

1) UNIQUE, UNGUESSABLE DOWNLOAD LINKS WITH LIMITED DOWNLOADS
------------------------------------------------------------

Existing services (for inspiration, not necessarily to use as-is):
  - Once A Link (oncea.link): one-time links, client-side crypto, no DB.
  - Single-use download link scripts: one-time + expiry (e.g. 1 week).
  - ExceedPass: limited-access downloads (e.g. up to 10), no account.

Implementation approaches:
  - Token in URL: e.g. /download/<token>. Token = cryptographically random (e.g. 128-bit).
  - To enforce “limited downloads” you must store somewhere: token → remaining count (or “used” flag).
  - Without any persistent store you cannot enforce limits; you can only make URLs unguessable and serve the same file to anyone who has the link.

Security (unguessable IDs):
  - 128-bit randomness is standard (e.g. UUID v4, or 16 bytes from crypto.randomBytes / secrets.token_urlsafe).
  - Encode as URL-safe string: 22–32 chars (base64url or hex). No need for longer for this use case.
  - References: Crypto.randomUUID(), Node crypto.randomBytes(), Python secrets.token_urlsafe().

2) QR CODE GENERATION
---------------------

Online APIs (unique URL per code = different “text” parameter per request):
  - QuickChart: https://quickchart.io/qr?text=URL  — PNG/SVG, free tier, simple.
  - QRCodeAPI.io: REST API, custom colors/logo, free tier ~100/month.

Offline / self-hosted (recommended for you — no dependency, no limit):
  - node-qrcode (npm: qrcode): very popular, Node + browser, outputs PNG/SVG. Use in a small script to generate many QRs from a list of URLs.
  - @paulmillr/qr: lightweight, 0 deps, SVG/ASCII.
  - qrcode-generator: another npm option with error correction.

Recommendation: Use a small Node (or Python) script that:
  1. Reads or generates a list of tokens.
  2. For each token builds URL: https://album.konaboj.cz/download/<token>
  3. Uses node-qrcode to generate PNG (or SVG) and saves to a folder.
  You can then send that folder to the printer or paste into the booklet layout.

3) PERSISTENCE WITHOUT A “REAL” DATABASE
----------------------------------------

Problem: Serverless (Netlify, Vercel) functions are stateless; they cannot reliably “write a JSON file” and have it persist between invocations. So “no database” has two meanings:

  A) No SQL database, but use a key-value / blob store:
     - Netlify Blobs, Vercel KV, Upstash Redis: store token → { remaining, used_at? }.
     - Free tiers available. You get “no DB admin” but still a persistent store.

  B) No third-party DB at all — use your own server (or serverless + external store):
     - Small Node/Python server on a VPS (Railway, Render, small VPS): read/write a JSON file or SQLite file on disk. No “database product,” just a file.
     - Serverless + Blob/KV (as above) still counts as “no traditional database.”

Conclusion: “Limited number of downloads” cannot be enforced with zero persistence. Minimum is either: (1) a small file (JSON/SQLite) on a server you control, or (2) a serverless-friendly store (Blob/KV). Both are “lightweight” and don’t require a full backoffice.

4) HOSTING FIT
--------------

  - Static site (main page + download page “shell”): any static host (Netlify, Vercel, GitHub Pages, Cloudflare Pages).
  - “Check token and decrement count” + “serve file or redirect”: needs either serverless functions + KV/blob, or a small backend server.
  - File storage for the actual album: same host’s storage, or S3/R2/Backblaze with signed URLs generated by your backend/serverless.

================================================================================
